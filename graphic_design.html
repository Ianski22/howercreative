<div class="filter-container">
  <div class="filter-buttons">
    <button class="filter-btn active" data-filter="all">All</button>
    <button class="filter-btn" data-filter="cars">Cars</button>
    <button class="filter-btn" data-filter="sports">Sports</button>
    <button class="filter-btn" data-filter="city">City & More</button>
  </div>
</div>

<style>
  .filter-container {
    width: 100%;
    display: flex;
    justify-content: center;
    margin: 20px 0;
    font-family: 'Gloucester MT Extra Condensed', sans-serif;
  }
  
  .filter-buttons {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    justify-content: center;
  }
  
  .filter-btn {
    padding: 8px 16px;
    background-color: #f0f0f0;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-family: 'Gloucester MT Extra Condensed', sans-serif;
    font-size: 1.2rem;
    transition: all 0.3s ease;
  }
  
  .filter-btn:hover {
    background-color: #ddd;
  }
  
  .filter-btn.active {
    background-color: #333;
    color: white;
  }
  
  /* Animation for the filtered items */
  .result, .gallery-item {
    transition: opacity 0.5s ease, transform 0.5s ease;
  }
  
  .hidden {
    opacity: 0;
    transform: scale(0.8);
    display: none;
  }
  
  @media (max-width: 768px) {
    .filter-btn {
      font-size: 1rem;
      padding: 6px 12px;
    }
  }
</style>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Define image categories
    const categories = {
      cars: ['ferrari.jpg', 'mercedes.jpg', 'porsche.jpg'],
      sports: ['seahawks.jpg', 'mj.jpg', 'np.jpg'],
      city: ['seattle.jpg', 'vans.jpg', 'gas.jpg']
    };
    
    // Add data attributes to each image container
    function addCategoryAttributes() {
      // For desktop layout
      document.querySelectorAll('.results .result').forEach(item => {
        const imgSrc = item.querySelector('img').getAttribute('src');
        const filename = imgSrc.split('/').pop();
        
        // Add data-category attribute
        for (const [category, files] of Object.entries(categories)) {
          if (files.includes(filename)) {
            item.setAttribute('data-category', category);
            break;
          }
        }
      });
      
      // For mobile layout
      document.querySelectorAll('.gallery .gallery-item').forEach(item => {
        const imgSrc = item.querySelector('img').getAttribute('src');
        const filename = imgSrc.split('/').pop();
        
        // Add data-category attribute
        for (const [category, files] of Object.entries(categories)) {
          if (files.includes(filename)) {
            item.setAttribute('data-category', category);
            break;
          }
        }
      });
    }
    
    // Add filter functionality
    function setupFilters() {
      const filterBtns = document.querySelectorAll('.filter-btn');
      
      filterBtns.forEach(btn => {
        btn.addEventListener('click', function() {
          const filter = this.getAttribute('data-filter');
          
          // Update active state
          filterBtns.forEach(b => b.classList.remove('active'));
          this.classList.add('active');
          
          // Filter desktop images
          document.querySelectorAll('.results .result').forEach(item => {
            if (filter === 'all' || item.getAttribute('data-category') === filter) {
              item.classList.remove('hidden');
            } else {
              item.classList.add('hidden');
            }
          });
          
          // Filter mobile images
          document.querySelectorAll('.gallery .gallery-item').forEach(item => {
            if (filter === 'all' || item.getAttribute('data-category') === filter) {
              item.classList.remove('hidden');
            } else {
              item.classList.add('hidden');
            }
          });
        });
      });
    }
    
    // Initialize
    function init() {
      // Create and insert filter container for desktop
      const filterContainer = document.querySelector('.filter-container').cloneNode(true);
      document.querySelector('.pc_images').insertBefore(filterContainer, document.querySelector('.results'));
      
      // Create and insert filter container for mobile
      const mobileFilterContainer = document.querySelector('.filter-container').cloneNode(true);
      document.querySelector('.gallery-container').insertBefore(mobileFilterContainer, document.querySelector('.gallery'));
      
      // Remove the original filter container
      document.querySelector('.filter-container').remove();
      
      addCategoryAttributes();
      setupFilters();
    }
    
    init();
  });
</script>
